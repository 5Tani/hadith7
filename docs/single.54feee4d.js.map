{"mappings":"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","sources":["code/single.js"],"sourcesContent":["async function ready() {\r\n  let params = new URLSearchParams(document.location.search);\r\n  let edition = params.get(\"edition\")\r\n  let bareedition = params.get(\"bareedition\") || edition.replace(/\\d+/g, '').split('-')[1].trim()\r\n  if (!bareedition)\r\n    return\r\n  let data = await getJSON('info')\r\n\r\n\r\n  let UL = getElement('ul', { class: 'list-group' })\r\n  for (let i = 0; i <= data[bareedition].metadata.last_hadithnumber + 50; i++) {\r\n    let LI = getElement('li', { class: 'list-group-item' })\r\n    let newparams = new URLSearchParams();\r\n    newparams.set('bareedition', bareedition)\r\n    newparams.set('num', i)\r\n    let aElem = getElement('a', { href: `dataseo.html?${newparams.toString()}` })\r\n    aElem.innerText = `Hadith Number  ${i}`\r\n    LI.appendChild(aElem)\r\n    UL.appendChild(LI)\r\n  }\r\n  document.querySelector('#mycontainer').appendChild(UL)\r\n}\r\n\r\n\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", ready);\nlet htmlHadithContainer = \r\n`    \r\n<div class=\"card text-dark bg-light m-5\">\r\n<div class=\"card-body\">\r\n<div class=\"card-text lead m-1\"></div>\r\n</div>\r\n\r\n<span id=\"footercontainer\">\r\n</span>\r\n\r\n</div>\r\n`\r\n\r\nlet tableContainer = \r\n`\r\n<table class=\"table table-hover  table-striped\">\r\n  <tbody>\r\n\r\n  </tbody>\r\n</table>\r\n`\r\n\r\nfunction capitalize(words){\r\nreturn words.toString().toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, match => match.toUpperCase()).trim()\r\n}\r\n\r\nlet htmlparser = new DOMParser();\r\n\r\nfunction getElement(elementName, attributesObj) {\r\n  if(!attributesObj)\r\n    attributesObj = {}\r\n  let element = document.createElement(elementName);\r\n  for (let [key, value] of Object.entries(attributesObj)) {\r\n    element.setAttribute(key, value);\r\n  }\r\n  return element\r\n}\r\n\r\nlet apiLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/hadith-api/1/\"]\r\nlet quranLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/quran-api/1/\"]\r\nlet extensions = [\".min.json\", \".json\"]\r\n\r\n// https://www.shawntabrizi.com/code/programmatically-fetch-multiple-apis-parallel-using-async-await-javascript/\r\n// Get links async i.e in parallel\r\nasync function getJSON(endpoints, links) {\r\n  if (!Array.isArray(endpoints))\r\n    endpoints = [endpoints]\r\n  let result = await Promise.all(\r\n    endpoints.map(endpoint => fetchWithFallback(getURLs(endpoint, links)).then(response => response.json()))\r\n  ).catch(console.error)\r\n  if (result.length == 1)\r\n    return result[0]\r\n  return result\r\n}\r\n\r\n\r\nasync function fetchWithFallback(links, obj) {\r\n  let response;\r\n  for (let link of links) {\r\n    try {\r\n      response = await fetch(link, obj)\r\n      if (response.ok)\r\n        return response\r\n    } catch (e) { }\r\n  }\r\n  return response\r\n}\r\n\r\n// convert endpoint into multiple urls, including fallback urls\r\nfunction getURLs(endpoint, links) {\r\n  links = links || apiLinks\r\n  return extensions.map(ext => links.map(e => e + endpoint + ext)).flat()\r\n}\r\n\r\nfunction getElementFromHTML(htmlString){\r\n  return htmlparser.parseFromString(htmlString, \"text/html\");\r\n}\r\n\r\n// pass hadith object & get card element with all hadith info in it\r\nfunction getHadithCardElem(hadith,dirval,lang,isocodes){\r\n  let lowerLang = lang.toLowerCase()\r\n  let cardElem = getElementFromHTML(htmlHadithContainer).querySelector('.card')\r\n  cardElem.querySelector('.card-text').innerText = hadith.text\r\n  let footerDiv = getElement('div',{class:\"card-footer\"})\r\n  if(hadith.grades.length>0){\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n  Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<b>Grades:</b><br>`);\r\n  }\r\n  \r\n  for (let grade of hadith.grades) \r\n    cardElem.querySelector('.card-footer').insertAdjacentHTML(\"beforeend\", `<b>${capitalize(grade.grade)}</b> : ${grade.name}<br>`);\r\n    if(hadith.hadithnumber){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#hadith${hadith.hadithnumber} class=\"link-dark text-decoration-none\" >Hadith Number: ${hadith.hadithnumber}</a><br>`);\r\n    }\r\n    if(hadith.arabicnumber){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#hadith${hadith.hadithnumber} class=\"link-dark text-decoration-none\" >Arabic Number: ${hadith.arabicnumber}</a><br>`);\r\n    }\r\n\r\n    if(hadith.reference){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#hadith${hadith.hadithnumber} class=\"link-dark text-decoration-none\" >Reference: ${Object.entries(hadith.reference).flat().map(e=>capitalize(e)).join(' ')}</a><br>`);\r\n    }\r\n    cardElem.setAttribute('id','hadith'+hadith.hadithnumber)\r\n\r\n    cardElem.querySelector('.card-text').setAttribute('dir',dirval)\r\n    cardElem.querySelector('.card-text').setAttribute('lang',isocodes[lowerLang].iso1 ? isocodes[lowerLang].iso1 : isocodes[lowerLang].iso2)\r\n\r\nreturn cardElem\r\n}"],"names":["$kAkBg","parcelRequire","_ready","asyncToGenerator","$parcel$interopDefault","$jO2Au","mark","_callee","params","edition","bareedition","data","UL","i","LI","newparams","aElem","URLSearchParams","document","location","search","get","replace","split","trim","$f02adab617e477a4$var$getJSON","_ctx","sent","$f02adab617e477a4$var$getElement","class","metadata","last_hadithnumber","set","href","concat","toString","innerText","appendChild","querySelector","apply","this","arguments","addEventListener","DOMParser","elementName","attributesObj","element","createElement","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Object","entries","Symbol","iterator","next","done","_value","slicedToArray","value","key","setAttribute","err","return","$f02adab617e477a4$var$apiLinks","$f02adab617e477a4$var$extensions","endpoints","links","_getJSON","result","Array","isArray","Promise","all","map","endpoint","$f02adab617e477a4$var$fetchWithFallback","$f02adab617e477a4$var$getURLs","then","response","json","catch","console","error","length","obj","_fetchWithFallback","link","fetch","ok","t1","ext","e","flat"],"version":3,"file":"single.54feee4d.js.map"}