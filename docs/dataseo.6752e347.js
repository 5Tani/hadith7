document.addEventListener("DOMContentLoaded",(async function(){let t=new URLSearchParams(document.location.search),r=t.get("edition"),n=t.get("bareedition")||r.replace(/\d+/g,"").split("-")[1].trim(),i=t.get("num");if(!n||!i)return;let s=await d("editions"),h=await d("isocodes/iso-codes",o),u=s[n].collection.map((e=>[e.name,e.language,e.direction])),f=[],b=c(e).querySelector(".table");for(let[e,t]of u){let r=a("a",{href:`#${t.toLowerCase()}`});r.innerText=t;let n=a("tr"),o=a("td",{class:"text-center"});o.appendChild(r),n.appendChild(o),b.querySelector("tbody").appendChild(n),f.push(`editions/${e}/${i}`)}document.querySelector("#mycontainer").appendChild(b);let m=await d(f),p=0;for(let[e,t,r]of u){let e=m[p],n=a("h2",{id:t.toLowerCase(),class:"text-center"}),o=a("a",{href:`#${t.toLowerCase()}`});o.innerText=t,n.appendChild(o),document.querySelector("#mycontainer").appendChild(n);for(let a of e.hadiths)document.querySelector("#mycontainer").appendChild(l(a,r,t,h));p++}}));let e='\n<table class="table table-hover  table-striped">\n  <tbody>\n\n  </tbody>\n</table>\n';function t(e){return e.toString().toLowerCase().replace(/(^\w{1})|(\s+\w{1})/g,(e=>e.toUpperCase())).trim()}let r=new DOMParser;function a(e,t){t||(t={});let r=document.createElement(e);for(let[e,a]of Object.entries(t))r.setAttribute(e,a);return r}let n=["https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/","https://raw.githubusercontent.com/fawazahmed0/hadith-api/1/"],o=["https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/","https://raw.githubusercontent.com/fawazahmed0/quran-api/1/"],i=[".min.json",".json"];async function d(e,t){Array.isArray(e)||(e=[e]);let r=await Promise.all(e.map((e=>async function(e,t){let r;for(let a of e)try{if(r=await fetch(a,t),r.ok)return r}catch(e){}return r}(function(e,t){return t=t||n,i.map((r=>t.map((t=>t+e+r)))).flat()}(e,t)).then((e=>e.json()))))).catch(console.error);return 1==r.length?r[0]:r}function c(e){return r.parseFromString(e,"text/html")}function l(e,r,n,o){let i=n.toLowerCase(),d=c('    \n<div class="card text-dark bg-light m-5">\n<div class="card-body">\n<div class="card-text lead m-1"></div>\n</div>\n\n<span id="footercontainer">\n</span>\n\n</div>\n').querySelector(".card");d.querySelector(".card-text").innerText=e.text;let l=a("div",{class:"card-footer"});e.grades.length>0&&(d.querySelector("#footercontainer").appendChild(l.cloneNode()),Array.from(d.querySelectorAll(".card-footer")).at(-1).insertAdjacentHTML("beforeend","<b>Grades:</b><br>"));for(let r of e.grades)d.querySelector(".card-footer").insertAdjacentHTML("beforeend",`<b>${t(r.grade)}</b> : ${r.name}<br>`);return e.hadithnumber&&(d.querySelector("#footercontainer").appendChild(l.cloneNode()),Array.from(d.querySelectorAll(".card-footer")).at(-1).insertAdjacentHTML("beforeend",`<a href=#hadith${e.hadithnumber} class="link-dark text-decoration-none" >Hadith Number: ${e.hadithnumber}</a><br>`)),e.arabicnumber&&(d.querySelector("#footercontainer").appendChild(l.cloneNode()),Array.from(d.querySelectorAll(".card-footer")).at(-1).insertAdjacentHTML("beforeend",`<a href=#hadith${e.hadithnumber} class="link-dark text-decoration-none" >Arabic Number: ${e.arabicnumber}</a><br>`)),e.reference&&(d.querySelector("#footercontainer").appendChild(l.cloneNode()),Array.from(d.querySelectorAll(".card-footer")).at(-1).insertAdjacentHTML("beforeend",`<a href=#hadith${e.hadithnumber} class="link-dark text-decoration-none" >Reference: ${Object.entries(e.reference).flat().map((e=>t(e))).join(" ")}</a><br>`)),d.setAttribute("id","hadith"+e.hadithnumber),d.querySelector(".card-text").setAttribute("dir",r),d.querySelector(".card-text").setAttribute("lang",o[i].iso1?o[i].iso1:o[i].iso2),d}
//# sourceMappingURL=dataseo.6752e347.js.map
