{"mappings":"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","sources":["code/data.js"],"sourcesContent":["async function ready() {\r\n  document.querySelector('#mycontainer').insertAdjacentHTML('beforeend', searchBar)\r\n  let params = new URLSearchParams(document.location.search);\r\n  let edition = params.get(\"edition\");\r\n  let bareedition = params.get(\"bareedition\") || edition.replace(/\\d+/g, '').split('-')[1].trim()\r\n  let type = params.get(\"type\") || 'section'\r\n  let num = params.get(\"num\");\r\n  let grade = params.get(\"grade\");\r\n\r\n  if (!bareedition || (!num && type != 'full'))\r\n    return\r\n\r\n  let endpoint\r\n  if (type == 'full')\r\n    endpoint = `editions/${edition}`\r\n  else if (type = 'section')\r\n    endpoint = `editions/${edition}/sections/${num}`\r\n  else if (type = 'single')\r\n    endpoint = `editions/${edition}/${num}`\r\n\r\n  let isocodes = await getJSON('isocodes/iso-codes', quranLinks)\r\n  let [editionsJSON, data] = await getJSON(['editions', endpoint])\r\n  let [_, lang, dirval] = editionsJSON[bareedition].collection.filter(e => e.name == edition).map(e => [e.name, e.language, e.direction])[0]\r\n\r\n  let hadiths = data.hadiths\r\n  if (grade) {\r\n    grade = grade.trim().toLowerCase()\r\n    hadiths = hadiths.filter(hadith => hadith.grades.some(e => e.grade.toLowerCase().includes(grade)))\r\n  }\r\n  hadiths = hadiths.filter(hadith => hadith?.text)\r\n  for (let hadith of hadiths)\r\n    document.querySelector('#mycontainer').appendChild(getHadithCardElem(hadith, edition, dirval, lang, isocodes))\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", ready);\r\n\nconst htmlHadithContainer =\r\n  `    \r\n<div class=\"card text-dark bg-light m-5\">\r\n<div class=\"card-body\">\r\n<div class=\"card-text lead m-1\"></div>\r\n</div>\r\n\r\n<span id=\"footercontainer\">\r\n</span>\r\n\r\n</div>\r\n`\r\n\r\nconst tableContainer =\r\n  `\r\n<table class=\"table table-hover  table-striped\">\r\n  <tbody>\r\n\r\n  </tbody>\r\n</table>\r\n`\r\n\r\nconst searchBar =\r\n  `\r\n<div class=\"mb-3 d-none\">\r\n<form class=\"d-flex\" onsubmit=\"beginSearch(); return false\">\r\n  <input id=\"searchquery\" class=\"form-control mr-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\r\n  <button id=\"searchbtn\" class=\"btn btn-outline-info\" type=\"button\" onclick=\"beginSearch(); return false\">\r\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-search\" fill=\"currentColor\"\r\n      xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fill-rule=\"evenodd\"\r\n        d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\" />\r\n      <path fill-rule=\"evenodd\"\r\n        d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\" />\r\n    </svg>\r\n  </button>\r\n</form>\r\n</div>\r\n`\r\n\r\nfunction capitalize(words) {\r\n  return words.toString().toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, match => match.toUpperCase()).trim()\r\n}\r\n\r\nlet htmlparser = new DOMParser();\r\n\r\nfunction getElement(elementName, attributesObj) {\r\n  if (!attributesObj)\r\n    attributesObj = {}\r\n  let element = document.createElement(elementName);\r\n  for (let [key, value] of Object.entries(attributesObj)) {\r\n    element.setAttribute(key, value);\r\n  }\r\n  return element\r\n}\r\n\r\nlet apiLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/hadith-api/1/\"]\r\nlet quranLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/quran-api/1/\"]\r\nlet extensions = [\".min.json\", \".json\"]\r\n\r\n// https://www.shawntabrizi.com/code/programmatically-fetch-multiple-apis-parallel-using-async-await-javascript/\r\n// Get links async i.e in parallel\r\nasync function getJSON(endpoints, links) {\r\n  let returnSingle = false\r\n  if (!Array.isArray(endpoints)) {\r\n    endpoints = [endpoints]\r\n    returnSingle = true\r\n  }\r\n  let result = await Promise.all(\r\n    endpoints.map(endpoint => fetchWithFallback(getURLs(endpoint, links)).then(response => response.json()))\r\n  ).catch(console.error)\r\n  if (returnSingle)\r\n    return result[0]\r\n  return result\r\n}\r\n\r\n\r\nasync function fetchWithFallback(links, obj) {\r\n  let response;\r\n  for (let link of links) {\r\n    try {\r\n      response = await fetch(link, obj)\r\n      if (response.ok)\r\n        return response\r\n    } catch (e) { }\r\n  }\r\n  return response\r\n}\r\n\r\n// convert endpoint into multiple urls, including fallback urls\r\nfunction getURLs(endpoint, links) {\r\n  links = links || apiLinks\r\n  return extensions.map(ext => links.map(e => e + endpoint + ext)).flat()\r\n}\r\n\r\nfunction getElementFromHTML(htmlString) {\r\n  return htmlparser.parseFromString(htmlString, \"text/html\");\r\n}\r\n\r\n// pass hadith object & get card element with all hadith info in it\r\nfunction getHadithCardElem(hadith, editionName, dirval, lang, isocodes) {\r\n  let lowerLang = lang.toLowerCase()\r\n  let cardElem = getElementFromHTML(htmlHadithContainer).querySelector('.card')\r\n  cardElem.querySelector('.card-text').innerText = hadith.text\r\n  let footerDiv = getElement('div', { class: \"card-footer\" })\r\n  if (hadith.grades.length > 0) {\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<table class=\"table table-sm\">\r\n    <thead>\r\n      <tr>\r\n        <th>Grade</th>\r\n      \r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    </tbody>\r\n    </table>`);\r\n  }\r\n\r\n  for (let grade of hadith.grades)\r\n    cardElem.querySelector('tbody').insertAdjacentHTML(\"beforeend\", `<tr><td>${capitalize(grade.grade)}</td><td>${grade.name}</td></tr>`);\r\n  let hrefVal = `hadith:${editionName}:${hadith.hadithnumber}`\r\n  if (hadith.hadithnumber) {\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Hadith Number: ${hadith.hadithnumber}</a><br>`);\r\n  }\r\n  if (hadith.arabicnumber) {\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Arabic Number: ${hadith.arabicnumber}</a><br>`);\r\n  }\r\n\r\n  if (hadith.reference) {\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Reference: ${Object.entries(hadith.reference).flat().map(e => capitalize(e)).join(' ')}</a><br>`);\r\n  }\r\n  cardElem.setAttribute('id', hrefVal)\r\n\r\n  cardElem.querySelector('.card-text').setAttribute('dir', dirval)\r\n  cardElem.querySelector('.card-text').setAttribute('lang', isocodes[lowerLang].iso1 ? isocodes[lowerLang].iso1 : isocodes[lowerLang].iso2)\r\n\r\n  return cardElem\r\n}\r\n\r\nwindow.beginSearch = function () {\r\n  let newparams = new URLSearchParams();\r\n  let searchquery = document.getElementById('searchquery').value\r\n  newparams.set('q', `site:fawazahmed0.github.io/hadiths ${searchquery}`)\r\n  window.open('https://www.google.com/search?' + newparams.toString(), '_blank');\r\n}"],"names":["$kAkBg","parcelRequire","_ready","asyncToGenerator","$parcel$interopDefault","$jO2Au","mark","_callee","params","edition","bareedition","type","num","grade","endpoint","isocodes","ref","editionsJSON","data","ref1","lang","dirval","hadiths","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","hadith1","document","querySelector","insertAdjacentHTML","$9c22a0062414f068$var$searchBar","URLSearchParams","location","search","get","replace","split","trim","concat","$9c22a0062414f068$var$getJSON","$9c22a0062414f068$var$quranLinks","_ctx","sent","t0","slicedToArray","call","t1","collection","filter","e","name","map","language","direction","toLowerCase","hadith","grades","some","includes","text","undefined","Symbol","iterator","next","done","value","appendChild","$9c22a0062414f068$var$getHadithCardElem","t2","return","apply","this","arguments","addEventListener","$9c22a0062414f068$var$capitalize","words","toString","match","toUpperCase","$9c22a0062414f068$var$htmlparser","DOMParser","$9c22a0062414f068$var$apiLinks","$9c22a0062414f068$var$extensions","endpoints","links","_getJSON","returnSingle","result","Array","isArray","Promise","all","$9c22a0062414f068$var$fetchWithFallback","$9c22a0062414f068$var$getURLs","then","response","json","catch","console","error","obj","_fetchWithFallback","link","fetch","ok","ext","flat","editionName","htmlString","lowerLang","cardElem","parseFromString","innerText","footerDiv","elementName","attributesObj","element","createElement","Object","entries","_value","key","setAttribute","err","$9c22a0062414f068$var$getElement","class","length","cloneNode","from","querySelectorAll","at","hrefVal","hadithnumber","arabicnumber","reference","join","iso1","iso2","window","beginSearch","newparams","searchquery","getElementById","set","open"],"version":3,"file":"data.7cac8a4b.js.map"}