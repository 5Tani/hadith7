{"mappings":"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","sources":["code/data.js"],"sourcesContent":["async function ready() {\r\n  let params = new URLSearchParams(document.location.search);\r\n  let edition = params.get(\"edition\");\r\n  let bareedition = params.get(\"bareedition\") || edition.replace(/\\d+/g, '').split('-')[1].trim()\r\n  let type = params.get(\"type\") || 'section'\r\n  let num = params.get(\"num\");\r\n  let grade = params.get(\"grade\");\r\n\r\n  if(!bareedition || (!num && type!='full'))\r\n    return\r\n\r\n  let endpoint\r\n  if (type == 'full')\r\n  endpoint = `editions/${edition}`\r\n  else if (type = 'section')\r\n  endpoint = `editions/${edition}/sections/${num}`\r\n  else if (type = 'single')\r\n  endpoint = `editions/${edition}/${num}`\r\n\r\n  let isocodes = await getJSON('isocodes/iso-codes', quranLinks)\r\n  let [editionsJSON ,data]= await getJSON(['editions',endpoint])\r\n  let [_, lang, dirval] = editionsJSON[bareedition].collection.filter(e => e.name == edition).map(e => [e.name, e.language, e.direction])[0]\r\n  \r\n  let hadiths = data.hadiths\r\n  if (grade) {\r\n    grade = grade.trim().toLowerCase()\r\n    hadiths = hadiths.filter(hadith => hadith.grades.some(e => e.grade.toLowerCase().includes(grade)))\r\n  }\r\n  hadiths = hadiths.filter(hadith => hadith?.text)\r\n  for (let hadith of hadiths) \r\n    document.querySelector('#mycontainer').appendChild(getHadithCardElem(hadith,dirval,lang,isocodes))\r\n \r\n  \r\n\r\n}\r\n\r\n\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", ready);\r\nwindow.beginSearch = function () {\r\n  let newparams = new URLSearchParams();\r\n  let searchquery = document.getElementById('searchquery').value\r\n  newparams.set('q', `site:fawazahmed0.github.io/hadiths ${searchquery}`)\r\n  window.open('https://www.google.com/search?' + newparams.toString(), '_blank');\r\n}\nlet htmlHadithContainer = \r\n`    \r\n<div class=\"card text-dark bg-light m-5\">\r\n<div class=\"card-body\">\r\n<div class=\"card-text lead m-1\"></div>\r\n</div>\r\n\r\n<span id=\"footercontainer\">\r\n</span>\r\n\r\n</div>\r\n`\r\n\r\nlet tableContainer = \r\n`\r\n<table class=\"table table-hover  table-striped\">\r\n  <tbody>\r\n\r\n  </tbody>\r\n</table>\r\n`\r\n\r\nfunction capitalize(words){\r\nreturn words.toString().toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, match => match.toUpperCase()).trim()\r\n}\r\n\r\nlet htmlparser = new DOMParser();\r\n\r\nfunction getElement(elementName, attributesObj) {\r\n  if(!attributesObj)\r\n    attributesObj = {}\r\n  let element = document.createElement(elementName);\r\n  for (let [key, value] of Object.entries(attributesObj)) {\r\n    element.setAttribute(key, value);\r\n  }\r\n  return element\r\n}\r\n\r\nlet apiLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/hadith-api/1/\"]\r\nlet quranLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/quran-api/1/\"]\r\nlet extensions = [\".min.json\", \".json\"]\r\n\r\n// https://www.shawntabrizi.com/code/programmatically-fetch-multiple-apis-parallel-using-async-await-javascript/\r\n// Get links async i.e in parallel\r\nasync function getJSON(endpoints, links) {\r\n  if (!Array.isArray(endpoints))\r\n    endpoints = [endpoints]\r\n  let result = await Promise.all(\r\n    endpoints.map(endpoint => fetchWithFallback(getURLs(endpoint, links)).then(response => response.json()))\r\n  ).catch(console.error)\r\n  if (result.length == 1)\r\n    return result[0]\r\n  return result\r\n}\r\n\r\n\r\nasync function fetchWithFallback(links, obj) {\r\n  let response;\r\n  for (let link of links) {\r\n    try {\r\n      response = await fetch(link, obj)\r\n      if (response.ok)\r\n        return response\r\n    } catch (e) { }\r\n  }\r\n  return response\r\n}\r\n\r\n// convert endpoint into multiple urls, including fallback urls\r\nfunction getURLs(endpoint, links) {\r\n  links = links || apiLinks\r\n  return extensions.map(ext => links.map(e => e + endpoint + ext)).flat()\r\n}\r\n\r\nfunction getElementFromHTML(htmlString){\r\n  return htmlparser.parseFromString(htmlString, \"text/html\");\r\n}\r\n\r\n// pass hadith object & get card element with all hadith info in it\r\nfunction getHadithCardElem(hadith,dirval,lang,isocodes){\r\n  let lowerLang = lang.toLowerCase()\r\n  let cardElem = getElementFromHTML(htmlHadithContainer).querySelector('.card')\r\n  cardElem.querySelector('.card-text').innerText = hadith.text\r\n  let footerDiv = getElement('div',{class:\"card-footer\"})\r\n  if(hadith.grades.length>0){\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n  Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<b>Grades:</b><br>`);\r\n  }\r\n  \r\n  for (let grade of hadith.grades) \r\n    cardElem.querySelector('.card-footer').insertAdjacentHTML(\"beforeend\", `<b>${capitalize(grade.grade)}</b> : ${grade.name}<br>`);\r\n    if(hadith.hadithnumber){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#hadith${hadith.hadithnumber} class=\"link-dark text-decoration-none\" >Hadith Number: ${hadith.hadithnumber}</a><br>`);\r\n    }\r\n    if(hadith.arabicnumber){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#hadith${hadith.hadithnumber} class=\"link-dark text-decoration-none\" >Arabic Number: ${hadith.arabicnumber}</a><br>`);\r\n    }\r\n\r\n    if(hadith.reference){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#hadith${hadith.hadithnumber} class=\"link-dark text-decoration-none\" >Reference: ${Object.entries(hadith.reference).flat().map(e=>capitalize(e)).join(' ')}</a><br>`);\r\n    }\r\n    cardElem.setAttribute('id','hadith'+hadith.hadithnumber)\r\n\r\n    cardElem.querySelector('.card-text').setAttribute('dir',dirval)\r\n    cardElem.querySelector('.card-text').setAttribute('lang',isocodes[lowerLang].iso1 ? isocodes[lowerLang].iso1 : isocodes[lowerLang].iso2)\r\n\r\nreturn cardElem\r\n}"],"names":["$kAkBg","parcelRequire","_ready","asyncToGenerator","$parcel$interopDefault","$jO2Au","mark","_callee","params","edition","bareedition","type","num","grade","endpoint","isocodes","ref","editionsJSON","data","ref1","lang","dirval","hadiths","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","hadith1","URLSearchParams","document","location","search","get","replace","split","trim","concat","$9c22a0062414f068$var$getJSON","$9c22a0062414f068$var$quranLinks","_ctx","sent","t0","slicedToArray","call","t1","collection","filter","e","name","map","language","direction","toLowerCase","hadith","grades","some","includes","text","undefined","Symbol","iterator","next","done","value","querySelector","appendChild","$9c22a0062414f068$var$getHadithCardElem","t2","return","apply","this","arguments","addEventListener","window","beginSearch","newparams","searchquery","getElementById","set","open","toString","$9c22a0062414f068$var$capitalize","words","match","toUpperCase","$9c22a0062414f068$var$htmlparser","DOMParser","$9c22a0062414f068$var$apiLinks","$9c22a0062414f068$var$extensions","endpoints","links","_getJSON","result","Array","isArray","Promise","all","$9c22a0062414f068$var$fetchWithFallback","$9c22a0062414f068$var$getURLs","then","response","json","catch","console","error","length","obj","_fetchWithFallback","link","fetch","ok","ext","flat","htmlString","lowerLang","cardElem","parseFromString","innerText","footerDiv","elementName","attributesObj","element","createElement","Object","entries","_value","key","setAttribute","err","$9c22a0062414f068$var$getElement","class","cloneNode","from","querySelectorAll","at","insertAdjacentHTML","hadithnumber","arabicnumber","reference","join","iso1","iso2"],"version":3,"file":"data.d5a88ea9.js.map"}