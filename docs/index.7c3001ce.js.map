{"mappings":"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","sources":["code/index.js"],"sourcesContent":["\r\nasync function ready() {\r\n  showSpinningWheel('#mycontainer','beforeend')\r\n\r\n  let data = await getJSON('editions');\r\n  let bigUL = getElement('ul', { class: 'list-group' })\r\n  let count = 0\r\n  for (let [key, value] of Object.entries(data)) {\r\n    count++;\r\n    let bigLI = getElement('li', { class: 'list-group-item' })\r\n    let bigA = getElement('a', { href: `#collapse${count}`, 'data-bs-toggle': 'collapse', role: 'button' })\r\n    bigA.innerText = value.name\r\n    bigLI.appendChild(bigA)\r\n    let ul = getElement('ul', { class: 'list-group collapse', id: `collapse${count}` })\r\n    for (let items of value.collection) {\r\n      let li = getElement('li', { class: 'list-group-item' })\r\n      let newparams = new URLSearchParams();\r\n      newparams.set('edition', items.name)\r\n      newparams.set('bareedition', key)\r\n      let aElem = getElement('a', { href: `sections.html?${newparams.toString()}` })\r\n      aElem.innerText = items.language\r\n      li.appendChild(aElem)\r\n      //items.language , items.link\r\n      ul.appendChild(li)\r\n    }\r\n    bigLI.appendChild(ul)\r\n    bigUL.appendChild(bigLI)\r\n\r\n  }\r\n  removeSpinningWheel()\r\n  document.querySelector('#mycontainer').appendChild(bigUL)\r\n}\r\n\r\n\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", ready);\r\n\nconst htmlHadithContainer =\r\n  `    \r\n<div class=\"card text-dark bg-light m-3\">\r\n<div class=\"card-body\">\r\n<div class=\"card-text lead m-1\"></div>\r\n</div>\r\n\r\n<span id=\"footercontainer\">\r\n</span>\r\n\r\n</div>\r\n`\r\n\r\nconst tableContainer =\r\n  `\r\n<table class=\"table table-hover  table-striped\">\r\n  <tbody>\r\n\r\n  </tbody>\r\n</table>\r\n`\r\n\r\nconst searchBar =\r\n  `\r\n<div class=\"mb-3 d-none\">\r\n<form class=\"d-flex\" onsubmit=\"beginSearch(); return false\">\r\n  <input id=\"searchquery\" class=\"form-control mr-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\r\n  <button id=\"searchbtn\" class=\"btn btn-outline-info\" type=\"button\" onclick=\"beginSearch(); return false\">\r\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-search\" fill=\"currentColor\"\r\n      xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fill-rule=\"evenodd\"\r\n        d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\" />\r\n      <path fill-rule=\"evenodd\"\r\n        d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\" />\r\n    </svg>\r\n  </button>\r\n</form>\r\n</div>\r\n`\r\n\r\nfunction capitalize(words) {\r\n  return words.toString().toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, match => match.toUpperCase()).trim()\r\n}\r\n\r\nlet htmlparser = new DOMParser();\r\n\r\nfunction getElement(elementName, attributesObj) {\r\n  if (!attributesObj)\r\n    attributesObj = {}\r\n  let element = document.createElement(elementName);\r\n  for (let [key, value] of Object.entries(attributesObj)) {\r\n    element.setAttribute(key, value);\r\n  }\r\n  return element\r\n}\r\n\r\nlet apiLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/hadith-api/1/\"]\r\nlet quranLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/quran-api/1/\"]\r\nlet extensions = [\".min.json\", \".json\"]\r\n\r\n// https://www.shawntabrizi.com/code/programmatically-fetch-multiple-apis-parallel-using-async-await-javascript/\r\n// Get links async i.e in parallel\r\nasync function getJSON(endpoints, links) {\r\n  let returnSingle = false\r\n  if (!Array.isArray(endpoints)) {\r\n    endpoints = [endpoints]\r\n    returnSingle = true\r\n  }\r\n  let result = await Promise.all(\r\n    endpoints.map(endpoint => fetchWithFallback(getURLs(endpoint, links)).then(response => response.json()))\r\n  ).catch(console.error)\r\n  if (returnSingle)\r\n    return result[0]\r\n  return result\r\n}\r\n\r\n\r\nasync function fetchWithFallback(links, obj) {\r\n  let response;\r\n  for (let link of links) {\r\n    try {\r\n      response = await fetch(link, obj)\r\n      if (response.ok)\r\n        return response\r\n    } catch (e) { }\r\n  }\r\n  return response\r\n}\r\n\r\n// convert endpoint into multiple urls, including fallback urls\r\nfunction getURLs(endpoint, links) {\r\n  links = links || apiLinks\r\n  return extensions.map(ext => links.map(e => e + endpoint + ext)).flat()\r\n}\r\n\r\nfunction getElementFromHTML(htmlString) {\r\n  return htmlparser.parseFromString(htmlString, \"text/html\");\r\n}\r\n\r\n// pass hadith object & get card element with all hadith info in it\r\nfunction getHadithCardElem(hadith, editionName, dirval, lang, isocodes) {\r\n  let lowerLang = lang.toLowerCase()\r\n  let cardElem = getElementFromHTML(htmlHadithContainer).querySelector('.card')\r\n  cardElem.querySelector('.card-text').innerText = hadith.text\r\n  let footerDiv = getElement('div', { class: \"card-footer\" })\r\n  if (hadith.grades.length > 0) {\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<table class=\"table table-sm\">\r\n    <thead>\r\n      <tr>\r\n        <th>Grade</th>\r\n      \r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    </tbody>\r\n    </table>`);\r\n  }\r\n\r\n  for (let grade of hadith.grades)\r\n    cardElem.querySelector('tbody').insertAdjacentHTML(\"beforeend\", `<tr><td>${capitalize(grade.grade)}</td><td>${grade.name}</td></tr>`);\r\n  let hrefVal = `hadith:${editionName}:${hadith.hadithnumber}`\r\n  if (hadith.hadithnumber) {\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Hadith Number: ${hadith.hadithnumber}</a><br>`);\r\n  }\r\n  if (hadith.arabicnumber) {\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Arabic Number: ${hadith.arabicnumber}</a><br>`);\r\n  }\r\n\r\n  if (hadith.reference) {\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Reference: ${Object.entries(hadith.reference).flat().map(e => capitalize(e)).join(' ')}</a><br>`);\r\n  }\r\n  cardElem.setAttribute('id', hrefVal)\r\n\r\n  cardElem.querySelector('.card-text').setAttribute('dir', dirval)\r\n  cardElem.querySelector('.card-text').setAttribute('lang', isocodes[lowerLang].iso1 ? isocodes[lowerLang].iso1 : isocodes[lowerLang].iso2)\r\n\r\n  return cardElem\r\n}\r\n\r\nwindow.beginSearch = function () {\r\n  let newparams = new URLSearchParams();\r\n  let searchquery = document.getElementById('searchquery').value\r\n  newparams.set('q', `site:fawazahmed0.github.io/hadiths ${searchquery}`)\r\n  window.open('https://www.google.com/search?' + newparams.toString(), '_blank');\r\n}\r\n\r\nfunction isObject(obj) {\r\n  return obj === Object(obj);\r\n}\r\n\r\n// Show as loading spinning wheel,only if there isn't any other\r\nfunction showSpinningWheel(selector, position) {\r\n  if (!document.body.contains(document.querySelector('#spinningwheel')) ) {\r\n    document.querySelector(selector).insertAdjacentHTML(position,`<div  id=\"spinningwheel\">\r\n    <div class=\"text-center\">\r\n      <div class=\"spinner-border m-5\" role=\"status\">\r\n      </div>\r\n      </div>\r\n      </div>\r\n      `)\r\n  }\r\n}\r\n\r\nfunction removeSpinningWheel() {\r\n  if (document.body.contains(document.querySelector('#spinningwheel')) )\r\n  document.querySelector('#spinningwheel').remove()\r\n}"],"names":["$kAkBg","parcelRequire","_ready","asyncToGenerator","$parcel$interopDefault","$jO2Au","mark","_callee","data","bigUL","count","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_value","key","value","bigLI","bigA","ul","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","items","li","newparams","aElem","$01f76801a2bea368$var$showSpinningWheel","$01f76801a2bea368$var$getJSON","_ctx","sent","$01f76801a2bea368$var$getElement","class","undefined","Object","entries","Symbol","iterator","next","done","href","concat","role","innerText","name","appendChild","id","collection","URLSearchParams","set","toString","language","t0","return","t1","$01f76801a2bea368$var$removeSpinningWheel","document","querySelector","apply","this","arguments","addEventListener","DOMParser","elementName","attributesObj","element","createElement","slicedToArray","setAttribute","err","$01f76801a2bea368$var$apiLinks","$01f76801a2bea368$var$extensions","endpoints","links","_getJSON","returnSingle","result","Array","isArray","Promise","all","map","endpoint","$01f76801a2bea368$var$fetchWithFallback","$01f76801a2bea368$var$getURLs","then","response","json","catch","console","error","obj","_fetchWithFallback","link","fetch","ok","ext","e","flat","selector","position","body","contains","insertAdjacentHTML","remove","window","beginSearch","searchquery","getElementById","open"],"version":3,"file":"index.7c3001ce.js.map"}