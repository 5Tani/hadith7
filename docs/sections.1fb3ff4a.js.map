{"mappings":"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","sources":["code/sections.js"],"sourcesContent":["async function ready() {\n  let params = new URLSearchParams(document.location.search);\n  let edition = params.get(\"edition\");\n  let bareedition = params.get(\"bareedition\") || edition.replace(/\\d+/g, '').split('-')[1].trim()\n  if (!bareedition)\n    return\n  showSpinningWheel('#mycontainer','beforeend')\n  let data = await getJSON('info')\n\n  let UL = getElement('ul', { class: 'list-group' })\n  for (let [key, value] of Object.entries(data[bareedition]['metadata']['sections'])) {\n    let LI = getElement('li', { class: 'list-group-item' })\n    let newparams = new URLSearchParams();\n    newparams.set('edition', edition)\n    newparams.set('type', 'section')\n    newparams.set('num', key)\n    let aElem = getElement('a', { href: `data.html?${newparams.toString()}` })\n    aElem.innerText = `Section ${key} : ${value}`\n    LI.appendChild(aElem)\n    UL.appendChild(LI)\n  }\n  removeSpinningWheel()\n  document.querySelector('#mycontainer').appendChild(UL)\n}\n\n\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", ready);\nconst htmlHadithContainer =\n  `    \n<div class=\"card text-dark bg-light m-3\">\n<div class=\"card-body\">\n<div class=\"card-text lead m-1\"></div>\n</div>\n\n<span id=\"footercontainer\">\n</span>\n\n</div>\n`\n\nconst tableContainer =\n  `\n<table class=\"table table-hover  table-striped\">\n  <tbody>\n\n  </tbody>\n</table>\n`\n\nconst searchBar =\n  `\n<div class=\"mb-3 d-none\">\n<form class=\"d-flex\" onsubmit=\"beginSearch(); return false\">\n  <input id=\"searchquery\" class=\"form-control mr-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\n  <button id=\"searchbtn\" class=\"btn btn-outline-info\" type=\"button\" onclick=\"beginSearch(); return false\">\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-search\" fill=\"currentColor\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill-rule=\"evenodd\"\n        d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\" />\n      <path fill-rule=\"evenodd\"\n        d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\" />\n    </svg>\n  </button>\n</form>\n</div>\n`\n\nfunction capitalize(words) {\n  return words.toString().toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, match => match.toUpperCase()).trim()\n}\n\nlet htmlparser = new DOMParser();\n\nfunction getElement(elementName, attributesObj) {\n  if (!attributesObj)\n    attributesObj = {}\n  let element = document.createElement(elementName);\n  for (let [key, value] of Object.entries(attributesObj)) {\n    element.setAttribute(key, value);\n  }\n  return element\n}\n\nlet apiLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/hadith-api/1/\"]\nlet quranLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/quran-api/1/\"]\nlet extensions = [\".min.json\", \".json\"]\n\n// https://www.shawntabrizi.com/code/programmatically-fetch-multiple-apis-parallel-using-async-await-javascript/\n// Get links async i.e in parallel\nasync function getJSON(endpoints, links) {\n  let returnSingle = false\n  if (!Array.isArray(endpoints)) {\n    endpoints = [endpoints]\n    returnSingle = true\n  }\n  let result = await Promise.all(\n    endpoints.map(endpoint => fetchWithFallback(getURLs(endpoint, links)).then(response => response.json()))\n  ).catch(console.error)\n  if (returnSingle)\n    return result[0]\n  return result\n}\n\n\nasync function fetchWithFallback(links, obj) {\n  let response;\n  for (let link of links) {\n    try {\n      response = await fetch(link, obj)\n      if (response.ok)\n        return response\n    } catch (e) { }\n  }\n  return response\n}\n\n// convert endpoint into multiple urls, including fallback urls\nfunction getURLs(endpoint, links) {\n  links = links || apiLinks\n  return extensions.map(ext => links.map(e => e + endpoint + ext)).flat()\n}\n\nfunction getElementFromHTML(htmlString) {\n  return htmlparser.parseFromString(htmlString, \"text/html\");\n}\n\n// pass hadith object & get card element with all hadith info in it\nfunction getHadithCardElem(hadith, editionName, dirval, lang, isocodes) {\n  let lowerLang = lang.toLowerCase()\n  let cardElem = getElementFromHTML(htmlHadithContainer).querySelector('.card')\n  cardElem.querySelector('.card-text').innerText = hadith.text\n  let footerDiv = getElement('div', { class: \"card-footer\" })\n  if (hadith.grades.length > 0) {\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<table class=\"table table-sm\">\n    <thead>\n      <tr>\n        <th>Grade</th>\n      \n      </tr>\n    </thead>\n    <tbody>\n    </tbody>\n    </table>`);\n  }\n\n  for (let grade of hadith.grades)\n    cardElem.querySelector('tbody').insertAdjacentHTML(\"beforeend\", `<tr><td>${capitalize(grade.grade)}</td><td>${grade.name}</td></tr>`);\n  let hrefVal = `hadith:${editionName}:${hadith.hadithnumber}`\n  if (\"hadithnumber\" in hadith) {\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Hadith Number: ${hadith.hadithnumber}</a><br>`);\n  }\n  if (\"arabicnumber\" in hadith) {\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Arabic Number: ${hadith.arabicnumber}</a><br>`);\n  }\n\n  if (\"reference\" in hadith) {\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Reference: ${Object.entries(hadith.reference).flat().map(e => capitalize(e)).join(' ')}</a><br>`);\n  }\n  cardElem.setAttribute('id', hrefVal)\n\n  cardElem.querySelector('.card-text').setAttribute('dir', dirval)\n  cardElem.querySelector('.card-text').setAttribute('lang', isocodes[lowerLang].iso1 ? isocodes[lowerLang].iso1 : isocodes[lowerLang].iso2)\n\n  return cardElem\n}\n\nwindow.beginSearch = function () {\n  let newparams = new URLSearchParams();\n  let searchquery = document.getElementById('searchquery').value\n  newparams.set('q', `site:fawazahmed0.github.io/hadiths ${searchquery}`)\n  window.open('https://www.google.com/search?' + newparams.toString(), '_blank');\n}\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n// Show as loading spinning wheel,only if there isn't any other\nfunction showSpinningWheel(selector, position) {\n  if (!document.body.contains(document.querySelector('#spinningwheel')) ) {\n    document.querySelector(selector).insertAdjacentHTML(position,`<div  id=\"spinningwheel\">\n    <div class=\"text-center\">\n      <div class=\"spinner-border m-5\" role=\"status\">\n      </div>\n      </div>\n      </div>\n      `)\n  }\n}\n\nfunction removeSpinningWheel() {\n  if (document.body.contains(document.querySelector('#spinningwheel')) )\n  document.querySelector('#spinningwheel').remove()\n}"],"names":["$kAkBg","parcelRequire","_ready","asyncToGenerator","$parcel$interopDefault","$jO2Au","mark","_callee","params","edition","bareedition","data","UL","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_value","key","value","LI","newparams","aElem","URLSearchParams","document","location","search","get","replace","split","trim","$0395ef23857d5acb$var$showSpinningWheel","$0395ef23857d5acb$var$getJSON","_ctx","sent","$0395ef23857d5acb$var$getElement","class","undefined","Object","entries","Symbol","iterator","next","done","set","href","concat","toString","innerText","appendChild","t0","return","$0395ef23857d5acb$var$removeSpinningWheel","querySelector","apply","this","arguments","addEventListener","DOMParser","elementName","attributesObj","element","createElement","slicedToArray","setAttribute","err","$0395ef23857d5acb$var$apiLinks","$0395ef23857d5acb$var$extensions","endpoints","links","_getJSON","returnSingle","result","Array","isArray","Promise","all","map","endpoint","$0395ef23857d5acb$var$fetchWithFallback","$0395ef23857d5acb$var$getURLs","then","response","json","catch","console","error","obj","_fetchWithFallback","link","fetch","ok","t1","ext","e","flat","selector","position","body","contains","insertAdjacentHTML","remove","window","beginSearch","searchquery","getElementById","open"],"version":3,"file":"sections.1fb3ff4a.js.map"}