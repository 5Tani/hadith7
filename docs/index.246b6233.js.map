{"mappings":"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","sources":["code/index.js"],"sourcesContent":["\r\n  async function ready() {\r\n    let data = await getJSON('editions');\r\n    let bigUL = getElement('ul', { class: 'list-group' })\r\n    let count = 0\r\n    for (let [key, value] of Object.entries(data)) {\r\n      count++;\r\n      let bigLI = getElement('li', { class: 'list-group-item' })\r\n      let bigA = getElement('a', { href: `#collapse${count}`, 'data-bs-toggle': 'collapse', role: 'button' })\r\n      bigA.innerText = value.name\r\n      bigLI.appendChild(bigA)\r\n      let ul = getElement('ul', { class: 'list-group collapse', id: `collapse${count}` })\r\n      for (let items of value.collection) {\r\n        let li = getElement('li', { class: 'list-group-item' })\r\n        let newparams = new URLSearchParams();\r\n        newparams.set('edition', items.name)\r\n        newparams.set('bareedition', key)\r\n        let aElem = getElement('a', { href: `sections.html?${newparams.toString()}` })\r\n        aElem.innerText = items.language\r\n        li.appendChild(aElem)\r\n        //items.language , items.link\r\n        ul.appendChild(li)\r\n      }\r\n      bigLI.appendChild(ul)\r\n      bigUL.appendChild(bigLI)\r\n\r\n    }\r\n    document.querySelector('#mycontainer').appendChild(bigUL)\r\n  }\r\n\r\n\r\n\r\n\r\n  document.addEventListener(\"DOMContentLoaded\", ready);\r\n\nlet htmlHadithContainer = \r\n`    \r\n<div class=\"card text-dark bg-light m-5\">\r\n<div class=\"card-body\">\r\n<div class=\"card-text lead m-1\"></div>\r\n</div>\r\n\r\n<span id=\"footercontainer\">\r\n</span>\r\n\r\n<a href=\"\" class=\"stretched-link\"></a>\r\n</div>\r\n`\r\n\r\nlet tableContainer = \r\n`\r\n<table class=\"table table-hover  table-striped\">\r\n  <tbody>\r\n\r\n  </tbody>\r\n</table>\r\n`\r\n\r\nfunction capitalize(words){\r\nreturn words.toString().toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, match => match.toUpperCase()).trim()\r\n}\r\n\r\nlet htmlparser = new DOMParser();\r\n\r\nfunction getElement(elementName, attributesObj) {\r\n  if(!attributesObj)\r\n    attributesObj = {}\r\n  let element = document.createElement(elementName);\r\n  for (let [key, value] of Object.entries(attributesObj)) {\r\n    element.setAttribute(key, value);\r\n  }\r\n  return element\r\n}\r\n\r\nlet apiLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/\", \"https://gitcdn.link/cdn/fawazahmed0/hadith-api/1/\", \"https://raw.githubusercontent.com/fawazahmed0/hadith-api/1/\"]\r\nlet quranLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/\", \"https://gitcdn.link/cdn/fawazahmed0/quran-api/1/\", \"https://raw.githubusercontent.com/fawazahmed0/quran-api/1/\"]\r\nlet extensions = [\".min.json\", \".json\"]\r\n\r\n// https://www.shawntabrizi.com/code/programmatically-fetch-multiple-apis-parallel-using-async-await-javascript/\r\n// Get links async i.e in parallel\r\nasync function getJSON(endpoints, links) {\r\n  if (!Array.isArray(endpoints))\r\n    endpoints = [endpoints]\r\n  let result = await Promise.all(\r\n    endpoints.map(endpoint => fetchWithFallback(getURLs(endpoint, links)).then(response => response.json()))\r\n  ).catch(console.error)\r\n  if (result.length == 1)\r\n    return result[0]\r\n  return result\r\n}\r\n\r\n\r\nasync function fetchWithFallback(links, obj) {\r\n  let response;\r\n  for (let link of links) {\r\n    try {\r\n      response = await fetch(link, obj)\r\n      if (response.ok)\r\n        return response\r\n    } catch (e) { }\r\n  }\r\n  return response\r\n}\r\n\r\n// convert endpoint into multiple urls, including fallback urls\r\nfunction getURLs(endpoint, links) {\r\n  links = links || apiLinks\r\n  return extensions.map(ext => links.map(e => e + endpoint + ext)).flat()\r\n}\r\n\r\nfunction getElementFromHTML(htmlString){\r\n  return htmlparser.parseFromString(htmlString, \"text/html\");\r\n}\r\n\r\n// pass hadith object & get card element with all hadith info in it\r\nfunction getHadithCardElem(hadith,dirval,lang,isocodes){\r\n  let lowerLang = lang.toLowerCase()\r\n  let cardElem = getElementFromHTML(htmlHadithContainer).querySelector('.card')\r\n  cardElem.querySelector('.card-text').innerText = hadith.text\r\n  let footerDiv = getElement('div',{class:\"card-footer\"})\r\n  if(hadith.grades.length>0){\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n  Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<b>Grades:</b><br>`);\r\n  }\r\n  \r\n  for (let grade of hadith.grades) \r\n    cardElem.querySelector('.card-footer').insertAdjacentHTML(\"beforeend\", `<b>${capitalize(grade.grade)}</b> : ${grade.name}<br>`);\r\n    if(hadith.hadithnumber){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `Hadith Number: ${hadith.hadithnumber}<br>`);\r\n    }\r\n    if(hadith.arabicnumber){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `Arabic Number: ${hadith.arabicnumber}<br>`);\r\n    }\r\n\r\n    if(hadith.reference){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `Reference: ${Object.entries(hadith.reference).flat().map(e=>capitalize(e)).join(' ')}<br>`);\r\n    }\r\n    cardElem.setAttribute('id','hadith'+hadith.hadithnumber)\r\n    cardElem.querySelector('a').setAttribute('href','#hadith'+hadith.hadithnumber)\r\n\r\n    cardElem.querySelector('.card-text').setAttribute('dir',dirval)\r\n    cardElem.querySelector('.card-text').setAttribute('lang',isocodes[lowerLang].iso1 ? isocodes[lowerLang].iso1 : isocodes[lowerLang].iso2)\r\n\r\nreturn cardElem\r\n}"],"names":["$kAkBg","parcelRequire","_ready","asyncToGenerator","$parcel$interopDefault","$jO2Au","mark","_callee","data","bigUL","count","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_value","key","value","bigLI","bigA","ul","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","items","li","newparams","aElem","$01f76801a2bea368$var$getJSON","_ctx","sent","$01f76801a2bea368$var$getElement","class","undefined","Object","entries","Symbol","iterator","next","done","href","concat","role","innerText","name","appendChild","id","collection","URLSearchParams","set","toString","language","t0","return","t1","document","querySelector","apply","this","arguments","addEventListener","DOMParser","elementName","attributesObj","element","createElement","slicedToArray","setAttribute","err","$01f76801a2bea368$var$apiLinks","$01f76801a2bea368$var$extensions","endpoints","links","_getJSON","result","Array","isArray","Promise","all","map","endpoint","$01f76801a2bea368$var$fetchWithFallback","$01f76801a2bea368$var$getURLs","then","response","json","catch","console","error","length","obj","_fetchWithFallback","link","fetch","ok","ext","e","flat"],"version":3,"file":"index.246b6233.js.map"}