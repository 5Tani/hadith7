{"mappings":"iiBACE,IAAAA,EAAAC,EAAA,+BAAeC,WAAAA,EAAfF,EAAAG,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,QACMC,EACAC,EACAC,EACAC,EAGAC,EAGAC,EACAC,EACAC,EAEAC,EACCC,EAAAC,EAAAC,EAAAC,EAAAC,EAAuBC,EAAlBC,EAAaC,EACjBC,EAEAC,EACAC,EAQFC,EACAC,EACCC,EAAAC,EAAAC,EAAAC,EAAAC,EAA+BC,EAAbC,EAAMC,EACvBC,EACAC,EACAC,EAICC,EAAAC,EAAAC,EAAAC,EAAAC,EAAIC,uEAnCPtC,EAAS,IAAIuC,gBAAgBC,SAASC,SAASC,QAC/CzC,EAAUD,EAAO2C,IAAI,WACrBzC,EAAcF,EAAO2C,IAAI,gBAAkB1C,EAAQ2C,QAAO,OAAS,IAAIC,MAAM,KAAK,GAAGC,OACrF3C,EAAMH,EAAO2C,IAAI,OAChBzC,GAAgBC,EAAG,iEAEC4C,EAAQ,0BAA7B3C,EAAY4C,EAAAC,eAGKF,EAAQ,qBAAsBG,WAKnD,IALI7C,EAAQ2C,EAAAC,KACR3C,EAAiBF,EAAaF,GAAaiD,WAAWC,KAAI,SAAAC,SAAK,CAACA,EAAEC,KAAMD,EAAEE,SAAUF,EAAEG,cACtFjD,EAAW,GAEXC,EAAYiD,EAAmBC,GAAgBC,cAAc,UAC5DlD,GAAuB,EAAvBC,GAAuB,EAAvBC,OAAuBiD,YAAvBhD,EAA2BN,EAAcuD,OAAAC,cAAzCrD,GAAAI,EAAAD,EAAuBmD,QAAAC,MAAvBvD,GAAuB,oBAAvBI,EAAuBoD,MAAA,GAAlBlD,EAAWD,EAAA,GAAEE,EAAIF,EAAA,IACrBG,EAAQiD,EAAW,IAAK,CAAEC,KAAO,IAAsBC,OAAnBpD,EAAKqD,kBACvCC,UAAYtD,EACdE,EAAKgD,EAAW,OAChB/C,EAAK+C,EAAW,KAAK,CAACK,MAAM,iBAC7BC,YAAYvD,GACfC,EAAGsD,YAAYrD,GACfX,EAAUmD,cAAc,SAASa,YAAYtD,GAE7CX,EAASkE,KAAM,YAA0BL,OAAfrD,EAAY,KAAOqD,OAAJjE,uDATtCO,GAAuB,EAAvBC,EAAuBqC,EAAA0B,+BAAvBjE,GAAuB,MAAvBG,EAAuB+D,QAAvB/D,EAAuB+D,+BAAvBjE,EAAuB,uBAAvBC,yEAWL6B,SAASmB,cAAc,gBAAgBa,YAAYhE,aAC/BuC,EAAQxC,WAAxBa,EAAO4B,EAAAC,KACP5B,EAAQ,EACPC,GAA+B,EAA/BC,GAA+B,EAA/BC,OAA+BoC,YAA/BnC,EAAmCnB,EAAcuD,OAAAC,uBAAjDxC,GAAAI,EAAAD,EAA+BsC,QAAAC,KAAA,iBAOlC,sBAPGtC,EAA+BuC,MAAA,GAAftC,EAAA,GAAEC,EAAID,EAAA,GAAEE,EAAMF,EAAA,GAC7BG,EAAOV,EAAQC,GACfU,EAAKmC,EAAW,KAAM,CAAEU,GAAIhD,EAAKyC,cAAcE,MAAQ,iBACvDvC,EAAQkC,EAAW,IAAI,CAACC,KAAM,IAAsBC,OAAnBxC,EAAKyC,kBACpCC,UAAY1C,EAClBG,EAAGyC,YAAYxC,GACfQ,SAASmB,cAAc,gBAAgBa,YAAYzC,GAC9CE,GAAU,EAAVC,GAAU,EAAVC,OAAUyB,YAAVxB,EAAcN,EAAK+C,QAAOhB,OAAAC,cAA1B7B,GAAAI,EAAAD,EAAU2B,QAAAC,MAAV/B,GAAU,EAANK,EAAJD,EAAU4B,MACfzB,SAASmB,cAAc,gBAAgBa,YAAYM,EAAkBxC,EAAOT,EAAOD,EAAKvB,uDADnF6B,GAAU,EAAVC,EAAUa,EAAA+B,+BAAV9C,GAAU,MAAVG,EAAUuC,QAAVvC,EAAUuC,+BAAVzC,EAAU,uBAAVC,kEAGLd,YAVGC,GAA+B,6EAA/BC,GAA+B,EAA/BC,EAA+BwB,EAAAgC,+BAA/B1D,GAA+B,MAA/BG,EAA+BkD,QAA/BlD,EAA+BkD,+BAA/BpD,EAA+B,uBAA/BC,4LA7BayD,MAAAC,KAAAC,WA8CpB3C,SAAS4C,iBAAiB,sCA9CX1F,EAAKuF,MAAAC,KAAAC,cAgDtB,IAcIzB,EACH,0FAQD,SAAS2B,EAAWC,GACpB,OAAOA,EAAMC,WAAWlB,cAAczB,QAAO,wBAAyB,SAAA4C,UAASA,EAAMC,iBAAe3C,OAGpG,IAAI4C,EAAa,IAAIC,UAErB,SAASzB,EAAW0B,EAAaC,GAC3BA,IACFA,EAAgB,IAClB,IAAIC,EAAUtD,SAASuD,cAAcH,GAChCnF,GAAgB,EAAhBC,GAAgB,EAAhBC,OAAgBiD,MAArB,IAAA,IAAK/C,EAAAD,EAAoBoF,OAAOC,QAAQJ,GAAchC,OAAAC,cAAjDrD,GAAAI,EAAAD,EAAgBmD,QAAAC,MAAhBvD,GAAgB,EAAA,CAAhB,IAAAK,EAAAtB,EAAA0G,cAAArF,EAAgBoD,MAAA,GAAXkC,EAAGrF,EAAA,GAAEmD,EAAKnD,EAAA,GAClBgF,EAAQM,aAAaD,EAAKlC,aADvBvD,GAAgB,EAAhBC,EAAgB0F,cAAhB5F,GAAgB,MAAhBG,EAAgB+D,QAAhB/D,EAAgB+D,oBAAhBjE,QAAAC,GAGL,OAAOmF,EAGT,IAAIQ,EAAW,CAAC,wDAAyD,oDAAqD,+DAC1HpD,EAAa,CAAC,uDAAwD,mDAAoD,8DAC1HqD,EAAa,CAAC,YAAa,kBAIhBxD,EAAQyD,EAAWC,UAAnBC,EAAOzB,MAAAC,KAAAC,oBAAPuB,WAAAA,EAAflH,EAAAG,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAuByG,EAAWC,OAG5BE,2EAFCC,MAAMC,QAAQL,KACjBA,EAAY,CAACA,aACIM,QAAQC,IACzBP,EAAUpD,KAAI,SAAA4D,UAAYC,EAAkBC,EAAQF,EAAUP,IAAQU,MAAK,SAAAC,UAAYA,EAASC,cAChGC,MAAMC,QAAQC,iBACK,IAHjBb,EAAM3D,EAAAC,MAGCwE,OAAW,yCACbd,EAAO,oCACTA,+CARa1B,MAAAC,KAAAC,oBAYP8B,EAAkBR,EAAOiB,UAAzBC,EAAiB1C,MAAAC,KAAAC,oBAAjBwC,WAAAA,EAAfnI,EAAAG,iBAAAC,EAAAC,GAAAC,MAAA,SAAAC,EAAiC0G,EAAOiB,OAClCN,EACC3G,EAAAC,EAAAC,EAAAC,EAAAC,EAAI+G,oEAAJnH,GAAQ,EAARC,GAAQ,EAARC,OAAQiD,WAARhD,EAAY6F,EAAK5C,OAAAC,sBAAjBrD,GAAAI,EAAAD,EAAQmD,QAAAC,KAAA,wBAAJ4D,EAAJ/G,EAAQoD,wBAEQ4D,MAAMD,EAAMF,eAA7BN,EAAQpE,EAAAC,MACK6E,GAAE,0CACNV,qEAJR3G,GAAQ,2EAARC,GAAQ,EAARC,EAAQqC,EAAA+B,+BAARtE,GAAQ,MAARG,EAAQ+D,QAAR/D,EAAQ+D,+BAARjE,EAAQ,uBAARC,2FAOEyG,uFATuBnC,MAAAC,KAAAC,WAahC,SAAS+B,EAAQF,EAAUP,GAEzB,OADAA,EAAQA,GAASH,EACVC,EAAWnD,KAAI,SAAA2E,UAAOtB,EAAMrD,KAAI,SAAAC,UAAKA,EAAI2D,EAAWe,QAAMC,OAGnE,SAASvE,EAAmBwE,GAC1B,OAAOvC,EAAWwC,gBAAgBD,EAAY,aAIhD,SAASnD,EAAkBxC,EAAOT,EAAOb,EAAKX,GAC5C,IAAI8H,EAAYnH,EAAKqD,cACjB+D,EAAW3E,EAjFhB,wNAiFwDE,cAAc,SACrEyE,EAASzE,cAAc,cAAcW,UAAYhC,EAAO+F,KACxD,IAAIC,EAAYpE,EAAW,MAAM,CAACK,MAAM,gBACrCjC,EAAOiG,OAAOd,OAAO,IACtBW,EAASzE,cAAc,oBAAoBa,YAAY8D,EAAUE,aACnE5B,MAAM6B,KAAKL,EAASM,iBAAiB,iBAAiBC,IAAG,GAAIC,mBAAmB,YAAc,2BAGzFnI,GAAS,EAATC,GAAS,EAATC,OAASiD,MAAd,IAAA,IAAK/C,EAAAD,EAAa0B,EAAOiG,OAAM1E,OAAAC,cAA1BrD,GAAAI,EAAAD,EAASmD,QAAAC,MAATvD,GAAS,EAAA,CAAT,IAAIoI,EAAJhI,EAASoD,MACZmE,EAASzE,cAAc,gBAAgBiF,mBAAmB,YAAc,MAAsCxE,OAAjCiB,EAAWwD,EAAMA,OAAO,WAAoBzE,OAAXyE,EAAMvF,KAAK,mBADtH5C,GAAS,EAATC,EAAS0F,cAAT5F,GAAS,MAATG,EAAS+D,QAAT/D,EAAS+D,oBAATjE,QAAAC,GAqBP,OAnBO2B,EAAOwG,eACRV,EAASzE,cAAc,oBAAoBa,YAAY8D,EAAUE,aACnE5B,MAAM6B,KAAKL,EAASM,iBAAiB,iBAAiBC,IAAG,GAAIC,mBAAmB,YAAc,kBAAqCxE,OAApB9B,EAAOwG,aAAa,UAEhIxG,EAAOyG,eACRX,EAASzE,cAAc,oBAAoBa,YAAY8D,EAAUE,aACnE5B,MAAM6B,KAAKL,EAASM,iBAAiB,iBAAiBC,IAAG,GAAIC,mBAAmB,YAAc,kBAAqCxE,OAApB9B,EAAOyG,aAAa,UAGhIzG,EAAO0G,YACRZ,EAASzE,cAAc,oBAAoBa,YAAY8D,EAAUE,aACnE5B,MAAM6B,KAAKL,EAASM,iBAAiB,iBAAiBC,IAAG,GAAIC,mBAAmB,YAAc,cAAqFxE,OAAxE4B,OAAOC,QAAQ3D,EAAO0G,WAAWhB,OAAO5E,KAAI,SAAAC,UAAGgC,EAAWhC,MAAI4F,KAAK,KAAK,UAEnLb,EAAShC,aAAa,KAAK,SAAS9D,EAAOwG,cAC3CV,EAASzE,cAAc,KAAKyC,aAAa,OAAO,UAAU9D,EAAOwG,cAEjEV,EAASzE,cAAc,cAAcyC,aAAa,MAAMvE,GACxDuG,EAASzE,cAAc,cAAcyC,aAAa,OAAO/F,EAAS8H,GAAWe,KAAO7I,EAAS8H,GAAWe,KAAO7I,EAAS8H,GAAWgB,MAEhIf","sources":["code/dataseo.js"],"sourcesContent":["\r\n  async function ready() {\r\n    let params = new URLSearchParams(document.location.search);\r\n    let edition = params.get(\"edition\");\r\n    let bareedition = params.get(\"bareedition\") || edition.replace(/\\d+/g, '').split('-')[1].trim()\r\n    let num = params.get(\"num\");\r\n    if (!bareedition || !num)\r\n      return\r\n    let editionsJSON = await getJSON('editions')\r\n\r\n\r\n    let isocodes = await getJSON('isocodes/iso-codes', quranLinks)\r\n    let edtionsLangArr = editionsJSON[bareedition].collection.map(e => [e.name, e.language, e.direction])\r\n    let linksArr = []\r\n    // Table of content\r\n    let tableElem = getElementFromHTML(tableContainer).querySelector('.table')\r\n    for (let [editionName, lang] of edtionsLangArr) {\r\n      let aElem = getElement('a', { href: `#${lang.toLowerCase()}` })\r\n      aElem.innerText = lang\r\n      let tr = getElement('tr')\r\n      let td = getElement('td',{class:'text-center'})\r\n      td.appendChild(aElem)\r\n      tr.appendChild(td)\r\n      tableElem.querySelector('tbody').appendChild(tr)\r\n      // Create endpoints for parallel fetch\r\n      linksArr.push(`editions/${editionName}/${num}`)\r\n    }\r\n    document.querySelector('#mycontainer').appendChild(tableElem)\r\n    let dataArr = await getJSON(linksArr)\r\n    let count = 0\r\n    for (let [editionName, lang, dirval] of edtionsLangArr) {\r\n      let data = dataArr[count]\r\n      let h2 = getElement('h2', { id: lang.toLowerCase(),'class':'text-center' })\r\n      let aElem = getElement('a',{href:`#${lang.toLowerCase()}`})\r\n      aElem.innerText = lang\r\n      h2.appendChild(aElem)\r\n      document.querySelector('#mycontainer').appendChild(h2)\r\n      for (let hadith of data.hadiths) \r\n      document.querySelector('#mycontainer').appendChild(getHadithCardElem(hadith,dirval,lang,isocodes))\r\n      \r\n      count++;\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  document.addEventListener(\"DOMContentLoaded\", ready);\r\n\nlet htmlHadithContainer = \r\n`    \r\n<div class=\"card text-dark bg-light m-5\">\r\n<div class=\"card-body\">\r\n<div class=\"card-text lead m-1\"></div>\r\n</div>\r\n\r\n<span id=\"footercontainer\">\r\n</span>\r\n\r\n<a href=\"\" class=\"stretched-link\"></a>\r\n</div>\r\n`\r\n\r\nlet tableContainer = \r\n`\r\n<table class=\"table table-hover  table-striped\">\r\n  <tbody>\r\n\r\n  </tbody>\r\n</table>\r\n`\r\n\r\nfunction capitalize(words){\r\nreturn words.toString().toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, match => match.toUpperCase()).trim()\r\n}\r\n\r\nlet htmlparser = new DOMParser();\r\n\r\nfunction getElement(elementName, attributesObj) {\r\n  if(!attributesObj)\r\n    attributesObj = {}\r\n  let element = document.createElement(elementName);\r\n  for (let [key, value] of Object.entries(attributesObj)) {\r\n    element.setAttribute(key, value);\r\n  }\r\n  return element\r\n}\r\n\r\nlet apiLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/\", \"https://gitcdn.link/cdn/fawazahmed0/hadith-api/1/\", \"https://raw.githubusercontent.com/fawazahmed0/hadith-api/1/\"]\r\nlet quranLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/\", \"https://gitcdn.link/cdn/fawazahmed0/quran-api/1/\", \"https://raw.githubusercontent.com/fawazahmed0/quran-api/1/\"]\r\nlet extensions = [\".min.json\", \".json\"]\r\n\r\n// https://www.shawntabrizi.com/code/programmatically-fetch-multiple-apis-parallel-using-async-await-javascript/\r\n// Get links async i.e in parallel\r\nasync function getJSON(endpoints, links) {\r\n  if (!Array.isArray(endpoints))\r\n    endpoints = [endpoints]\r\n  let result = await Promise.all(\r\n    endpoints.map(endpoint => fetchWithFallback(getURLs(endpoint, links)).then(response => response.json()))\r\n  ).catch(console.error)\r\n  if (result.length == 1)\r\n    return result[0]\r\n  return result\r\n}\r\n\r\n\r\nasync function fetchWithFallback(links, obj) {\r\n  let response;\r\n  for (let link of links) {\r\n    try {\r\n      response = await fetch(link, obj)\r\n      if (response.ok)\r\n        return response\r\n    } catch (e) { }\r\n  }\r\n  return response\r\n}\r\n\r\n// convert endpoint into multiple urls, including fallback urls\r\nfunction getURLs(endpoint, links) {\r\n  links = links || apiLinks\r\n  return extensions.map(ext => links.map(e => e + endpoint + ext)).flat()\r\n}\r\n\r\nfunction getElementFromHTML(htmlString){\r\n  return htmlparser.parseFromString(htmlString, \"text/html\");\r\n}\r\n\r\n// pass hadith object & get card element with all hadith info in it\r\nfunction getHadithCardElem(hadith,dirval,lang,isocodes){\r\n  let lowerLang = lang.toLowerCase()\r\n  let cardElem = getElementFromHTML(htmlHadithContainer).querySelector('.card')\r\n  cardElem.querySelector('.card-text').innerText = hadith.text\r\n  let footerDiv = getElement('div',{class:\"card-footer\"})\r\n  if(hadith.grades.length>0){\r\n    cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n  Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `<b>Grades:</b><br>`);\r\n  }\r\n  \r\n  for (let grade of hadith.grades) \r\n    cardElem.querySelector('.card-footer').insertAdjacentHTML(\"beforeend\", `<b>${capitalize(grade.grade)}</b> : ${grade.name}<br>`);\r\n    if(hadith.hadithnumber){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `Hadith Number: ${hadith.hadithnumber}<br>`);\r\n    }\r\n    if(hadith.arabicnumber){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `Arabic Number: ${hadith.arabicnumber}<br>`);\r\n    }\r\n\r\n    if(hadith.reference){\r\n      cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n    Array.from(cardElem.querySelectorAll('.card-footer')).at(-1).insertAdjacentHTML(\"beforeend\", `Reference: ${Object.entries(hadith.reference).flat().map(e=>capitalize(e)).join(' ')}<br>`);\r\n    }\r\n    cardElem.setAttribute('id','hadith'+hadith.hadithnumber)\r\n    cardElem.querySelector('a').setAttribute('href','#hadith'+hadith.hadithnumber)\r\n\r\n    cardElem.querySelector('.card-text').setAttribute('dir',dirval)\r\n    cardElem.querySelector('.card-text').setAttribute('lang',isocodes[lowerLang].iso1 ? isocodes[lowerLang].iso1 : isocodes[lowerLang].iso2)\r\n\r\nreturn cardElem\r\n}"],"names":["$kAkBg","parcelRequire","_ready","asyncToGenerator","$parcel$interopDefault","$jO2Au","mark","_callee","params","edition","bareedition","num","editionsJSON","isocodes","edtionsLangArr","linksArr","tableElem","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_value","editionName","lang","aElem","tr","td","dataArr","count","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","_value1","lang1","dirval","data","h2","aElem1","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","hadith","URLSearchParams","document","location","search","get","replace","split","trim","$7da5cff01f7f502c$var$getJSON","_ctx","sent","$7da5cff01f7f502c$var$quranLinks","collection","map","e","name","language","direction","$7da5cff01f7f502c$var$getElementFromHTML","$7da5cff01f7f502c$var$tableContainer","querySelector","undefined","Symbol","iterator","next","done","value","$7da5cff01f7f502c$var$getElement","href","concat","toLowerCase","innerText","class","appendChild","push","t0","return","id","hadiths","$7da5cff01f7f502c$var$getHadithCardElem","t1","t2","apply","this","arguments","addEventListener","$7da5cff01f7f502c$var$capitalize","words","toString","match","toUpperCase","$7da5cff01f7f502c$var$htmlparser","DOMParser","elementName","attributesObj","element","createElement","Object","entries","slicedToArray","key","setAttribute","err","$7da5cff01f7f502c$var$apiLinks","$7da5cff01f7f502c$var$extensions","endpoints","links","_getJSON","result","Array","isArray","Promise","all","endpoint","$7da5cff01f7f502c$var$fetchWithFallback","$7da5cff01f7f502c$var$getURLs","then","response","json","catch","console","error","length","obj","_fetchWithFallback","link","fetch","ok","ext","flat","htmlString","parseFromString","lowerLang","cardElem","text","footerDiv","grades","cloneNode","from","querySelectorAll","at","insertAdjacentHTML","grade","hadithnumber","arabicnumber","reference","join","iso1","iso2"],"version":3,"file":"dataseo.66c92042.js.map"}